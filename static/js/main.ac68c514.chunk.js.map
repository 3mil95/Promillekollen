{"version":3,"sources":["components/Drinks.jsx","paths/Graph.jsx","components/Slider.jsx","paths/AddDrink.jsx","paths/FormSettings.jsx","components/HistoryButton.jsx","GraphCreater.js","paths/History.jsx","icons/Promille.jsx","icons/Historik.jsx","icons/Installningar.jsx","components/Navigation.jsx","App.js","serviceWorker.js","index.js"],"names":["Drinks","state","imgMap","this","props","drinks","className","map","drink","i","key","onClick","handleEdit","src","type","height","alt","Math","floor","time","Component","Graph","drawGraph","pos","ctx","beginPath","lineWidth","strokeStyle","moveTo","perMille","length","currentTime","currentPromil","stroke","lineTo","round","createAxes","clearRect","fillStyle","fillRect","textAlign","textBaseline","font","fillText","mouseClickedY","thePos","handleMouseDown","e","pageX","handleMouseUp","handleMouseMove","newPos","start","end","setPos","handleTouchStart","touch","touches","handleTouchMove","getPerMille","sec","Date","getSeconds","from","canvas","refs","getContext","width","ref","onMouseDown","onMouseUp","onMouseMove","onMouseLeave","onTouchStart","onTouchEnd","onTouchMove","index","dtink","handleAdd","Slider","max","min","step","offset","unit","stepSize","drawValues","numValues","curentStep","value","drawSlider","editable","console","log","setState","parseFloat","onChange","target","name","getDay","currentDay","day","parseInt","AddDrink","strength","amount","clock","types","typeToIndex","findType","forEach","handleSubmit","onSubmit","preventDefault","handleClose","handleRemove","handleChange","handleType","dir","FormSettings","gender","weight","1","2","componentWillUnmount","localStorage","setItem","getItem","HistoryButton","getTextClass","occasion","style","color","pickOccaion","year","month","date","nextPer","addDrink","j","curentVal","createGraph","splice","currentDrink","currentVal","push","History","clear","occasions","adding","handleDrink","Fragment","Promille","viewBox","fillRule","clipRule","strokeLinejoin","strokeMiterlimit","transform","id","cx","cy","rx","ry","d","fill","strokeWidth","Historik","strokeLinecap","Installningar","Navigation","handlePage","page","history","location","pathname","App","currentDrinks","initLocalStorage","JSON","stringify","saveChange","getCurrentTime","getCurrentDrinks","removeDrink","getCurrentOccasion","editDrink","sort","a","b","nweDrink","newOccasions","getFullYear","getMonth","getDate","getAddDate","d1","d2","getHours","getMinutes","parse","setInterval","exact","path","component","render","Boolean","window","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.ac68c514.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass Drinks extends Component {\r\n    state = {  }\r\n\r\n    imgMap = {\r\n        'Öl':\"icons/ol.svg\",\r\n        \"Vin\":\"icons/vin.svg\",\r\n        \"Drink\":\"icons/drink.svg\",\r\n        \"Cider\":\"icons/cider.svg\",\r\n        \"Sprit\":\"icons/sprit.svg\"\r\n    }\r\n\r\n    render() { \r\n        //console.log(\"pd\", this.props.drinks)\r\n        if (!this.props.drinks) {\r\n            return null\r\n        }\r\n        return ( \r\n            <div className=\"drinks\">\r\n                <div className=\"drink-scroll\">\r\n                    {this.props.drinks.map((drink, i) => (\r\n                        <button key={i} className=\"drink\" onClick={() => this.props.handleEdit(i, drink)}>\r\n                            <img src={this.imgMap[drink.type]} height='50px' alt=\"hej\"/>\r\n                            {Math.floor((drink.time/60)%24)}:{(drink.time%60 < 10) ? `0${drink.time%60}` :  drink.time%60}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Drinks;","import React, { Component } from 'react';\r\nimport Drinks from '../components/Drinks';\r\n\r\n//const xScale = 150;\r\n//const yScale = 100;\r\n\r\nclass Graph extends Component {\r\n    componentDidMount() {\r\n        const canvas = this.refs.canvas;\r\n        this.ctx = canvas.getContext(\"2d\")\r\n        this.createAxes()\r\n    }\r\n\r\n    componentDidUpdate() {\r\n      this.createAxes()\r\n    }\r\n\r\n    drawGraph = () => {\r\n        const pos = this.props.pos - 200\r\n        this.ctx.beginPath();\r\n        this.ctx.lineWidth = 3;\r\n        this.ctx.strokeStyle  = \"#ffffff\";\r\n        this.ctx.moveTo(0, 650);\r\n        for (let i = 0; i < this.props.perMille.length; i++) {\r\n            if (this.props.currentTime === i) {\r\n                this.currentPromil = this.props.perMille[i];\r\n                this.ctx.stroke();\r\n                this.ctx.strokeStyle  = \"gray\";\r\n                this.ctx.lineWidth = 1;\r\n                this.ctx.beginPath();\r\n                this.ctx.lineTo((i) - pos+25, Math.round(650-this.props.perMille[i-1]*500));\r\n            } \r\n            if (this.props.perMille[i]) {\r\n                this.ctx.lineTo((i) - pos+25, Math.round(650-this.props.perMille[i]*500));\r\n            } else {\r\n                this.ctx.lineTo((i) - pos+25, 650);\r\n            }\r\n        }\r\n        this.ctx.stroke();\r\n    }\r\n\r\n    createAxes = () => {\r\n      this.currentPromil = 0.00;\r\n      if (!this.ctx) {\r\n        return\r\n      }\r\n        const pos = this.props.pos -200\r\n        this.ctx.strokeStyle  = \"gray\";\r\n        this.ctx.lineWidth = 1;\r\n        this.ctx.clearRect(0, 0, 400, 1000);\r\n        this.ctx.fillStyle = \"#222222\"\r\n        this.ctx.fillRect(25, 0, 375, 650);\r\n        for (let i = 0; i < 12; i++) {\r\n          this.ctx.beginPath(); \r\n          this.ctx.strokeStyle  = \"#333333\";\r\n          if (i === 6) {\r\n            this.ctx.lineWidth = 2;\r\n            this.ctx.strokeStyle  = \"red\";\r\n          }\r\n          this.ctx.moveTo(23, 50 + i *50);\r\n          this.ctx.lineTo(400, 50 +i*50);\r\n          this.ctx.stroke();\r\n        }\r\n        if (this.props.perMille.length > 0)\r\n          this.drawGraph()\r\n        \r\n        this.ctx.strokeStyle  = \"gray\";\r\n        this.ctx.lineWidth = 1;\r\n        this.ctx.clearRect(0, 0, 25, 700);\r\n        this.ctx.beginPath(); \r\n        this.ctx.moveTo(400, 650);\r\n        this.ctx.lineTo(25, 650);\r\n        this.ctx.lineTo(25, 0);\r\n        this.ctx.stroke();\r\n        for (let i = 0; i < 12; i++) {\r\n          this.ctx.fillStyle = \"gray\";\r\n          this.ctx.textAlign = \"end\";\r\n          this.ctx.textBaseline = \"middle\";\r\n          this.ctx.font = \"15px Arial\";\r\n          this.ctx.fillText(`${Math.floor((12-i)/10)},${(12-i)%10}`, 21, 50 +i*50);\r\n      }\r\n        for (let i = 0; i < 375; i++) {\r\n          if ((Math.round(pos + i))%60 === 0) {\r\n              this.ctx.beginPath(); \r\n              this.ctx.strokeStyle  = \"gray\";\r\n              this.ctx.moveTo(25+i, 653);\r\n              this.ctx.lineTo(25+i, 647);\r\n              this.ctx.stroke();\r\n              this.ctx.fillStyle = \"gray\";\r\n              this.ctx.textAlign = \"center\";\r\n              this.ctx.font = \"15px Arial\";\r\n              this.ctx.fillText(`${((Math.round(pos+i))/60)%24}:00`, 25+i, 670);\r\n          }\r\n      }\r\n    }\r\n\r\n    mouseClickedY = null;\r\n    thePos = null; \r\n  \r\n    handleMouseDown = (e) => {\r\n      if (this.mouseClickedY) {\r\n        return\r\n      }\r\n      this.mouseClickedY = e.pageX\r\n      this.thePos = this.props.pos;\r\n    }\r\n  \r\n    handleMouseUp = (e) => {\r\n      this.mouseClickedY = null;\r\n      this.thePos = null; \r\n    }\r\n  \r\n    handleMouseMove = (e) => {\r\n      if (!this.mouseClickedY) {\r\n        return\r\n      }\r\n      let newPos = this.thePos + (this.mouseClickedY - e.pageX)\r\n      if (newPos < this.props.start) {\r\n          newPos = this.props.start\r\n      } else if (newPos > this.props.end) {\r\n          newPos = this.props.end\r\n      }\r\n      this.props.setPos(newPos)\r\n    }\r\n  \r\n    handleTouchStart = (e) => {\r\n      var touch = e.touches[0]\r\n      if (this.mouseClickedY) {\r\n        return\r\n      }\r\n      this.mouseClickedY = touch.pageX\r\n      this.thePos = this.props.pos;\r\n    }\r\n  \r\n    handleTouchMove = (e) => {\r\n      var touch = e.touches[0]\r\n      if (!this.mouseClickedY) {\r\n        return\r\n      }\r\n      let newPos = this.thePos + (this.mouseClickedY - touch.pageX)\r\n      if (newPos < this.props.start) {\r\n        newPos = this.props.start\r\n      } else if (newPos > this.props.end) {\r\n        newPos = this.props.end\r\n      }\r\n      this.props.setPos(newPos)\r\n    }\r\n\r\n    getPerMille = (perMille, currentTime) => {\r\n      const date = new Date();\r\n      const sec = date.getSeconds();\r\n      const from = perMille[currentTime-1];\r\n      const to = perMille[currentTime];\r\n      const add = (to - from)*(sec/60); \r\n      return from+add\r\n    }\r\n\r\n    render() { \r\n        this.createAxes()\r\n        const {perMille, currentTime} = this.props\r\n        return ( \r\n            <div>\r\n              <div className={(this.props.drinks.length !== 0) ? \"show\" : \"hidden\"}>\r\n                <canvas height='685px' width='400px' ref=\"canvas\" \r\n                onMouseDown={this.handleMouseDown} onMouseUp={this.handleMouseUp} onMouseMove={this.handleMouseMove} onMouseLeave={this.handleMouseUp} \r\n                onTouchStart={this.handleTouchStart} onTouchEnd={this.handleMouseUp} onTouchMove={this.handleTouchMove}></canvas>\r\n                <Drinks drinks={this.props.drinks} handleEdit={(index,dtink) => this.props.handleAdd(index,dtink)}></Drinks>\r\n              </div>\r\n                {(this.props.currentTime !== -1) ? <div className= {(this.props.drinks.length !== 0) ? \"graph-nav\" : \"graph-add\"}>\r\n                  <button className=\"add-button\" onClick={() => this.props.handleAdd(null,null)}>+</button>\r\n                  {(this.props.drinks.length !== 0) ? <h3>{(perMille.length > currentTime) ? Math.round(this.getPerMille(perMille, currentTime) * 1000) / 1000 : 0}</h3> : null}</div> : null}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Graph;","import React, { Component } from 'react';\r\n\r\n\r\nclass Slider extends Component {\r\n    state = {  \r\n        max: 100,\r\n        min: 1,\r\n        step: 1,\r\n        offset: 0,\r\n        unit: \"\",\r\n        map: null\r\n    }\r\n    stepSize = 30\r\n    mouseClickedY = null;\r\n\r\n\r\n    componentDidMount() {\r\n        let map = this.state.map;\r\n        let max = this.state.max;\r\n        let min = this.state.min;\r\n        let step = this.state.step;\r\n        let unit = this.state.unit;\r\n        if (this.props.map) \r\n            map = parseInt(this.props.map)\r\n        if (this.props.max) \r\n            max = parseInt(this.props.max)\r\n        if (this.props.min) \r\n            min = parseInt(this.props.min)\r\n        if (this.props.step) \r\n            step = parseFloat(this.props.step)\r\n        if (this.props.unit) \r\n            unit = this.props.unit\r\n        this.setState({\r\n            map, max, min, step, unit\r\n        })\r\n        console.log(this.state)\r\n        this.canvas = this.refs.canvas;\r\n        this.ctx = this.canvas.getContext(\"2d\")\r\n    }\r\n\r\n\r\n    drawValues = () => {\r\n        const numValues = (this.state.max - this.state.min) / this.state.step\r\n        const curentStep = (this.props.value - this.state.min) / this.state.step\r\n        this.ctx.beginPath();\r\n        this.ctx.lineWidth = 3;\r\n        this.ctx.strokeStyle  = \"#888888\";\r\n        for (let i = 0; i <= numValues; i++) {\r\n            this.ctx.moveTo((this.canvas.width/2 + (curentStep - i)*this.stepSize)-this.state.offset, 10);\r\n            this.ctx.lineTo((this.canvas.width/2 + (curentStep - i)*this.stepSize)-this.state.offset, 17);\r\n        }\r\n        this.ctx.stroke();\r\n    }\r\n\r\n    drawSlider = () => {\r\n        if (!this.ctx) {\r\n            return\r\n        }\r\n        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n        this.ctx.beginPath();\r\n        this.ctx.lineWidth = 3;\r\n        this.ctx.strokeStyle  = \"#888888\";\r\n        this.ctx.moveTo(0, 10);\r\n        this.ctx.lineTo(this.canvas.width, 10);\r\n        this.ctx.stroke();\r\n        this.drawValues()\r\n        this.ctx.beginPath();\r\n        this.ctx.lineWidth = 4;\r\n        this.ctx.strokeStyle  = \"#4CAF50\";\r\n        this.ctx.moveTo(this.canvas.width/2, 5);\r\n        this.ctx.lineTo(this.canvas.width/2, 20);\r\n        this.ctx.stroke();\r\n\r\n    }\r\n\r\n    handleTouchStart = (e) => {\r\n        var touch = e.touches[0]\r\n        if (this.mouseClickedY  || this.props.editable === false) {\r\n          return\r\n        }\r\n        this.mouseClickedY = touch.pageX\r\n    }\r\n\r\n    handleMouseDown = (e) => {\r\n        if (this.mouseClickedY || this.props.editable === false) {\r\n          return\r\n        }\r\n        this.mouseClickedY = e.pageX\r\n      }\r\n    \r\n      handleMouseUp = (e) => {\r\n        if (!this.mouseClickedY) {\r\n            return\r\n        }\r\n        console.log(\"Up\", this.props.value)\r\n        this.mouseClickedY = null;\r\n        this.setState({\r\n            offset: 0\r\n        })\r\n      }\r\n\r\n      handleTouchMove = (e) => {\r\n        var touch = e.touches[0]\r\n        this.handleMouseMove(touch)\r\n      }\r\n    \r\n      handleMouseMove = (e) => {\r\n        if (!this.mouseClickedY) {\r\n          return\r\n        }\r\n        let value = this.props.value\r\n        let offset = (this.mouseClickedY - e.pageX)\r\n        if (offset < -this.stepSize/2 && parseFloat(value) < parseFloat(this.state.max)) {\r\n            this.mouseClickedY += this.stepSize\r\n            value = parseFloat(value) + parseFloat(this.state.step)\r\n            this.props.onChange({target:{value: Math.round(value/this.state.step) / Math.round(1/this.state.step), name: this.props.name}})\r\n        }\r\n        if (offset > this.stepSize/2 && parseFloat(value) > parseFloat(this.state.min)) {\r\n            this.mouseClickedY -= this.stepSize\r\n            value = parseFloat(value) - parseFloat(this.state.step)\r\n            this.props.onChange({target:{value: Math.round(value/this.state.step) / Math.round(1/this.state.step), name: this.props.name}})\r\n        }\r\n        if (value < this.state.min) {\r\n            value = this.state.min\r\n        }\r\n        if (value > this.state.max) {\r\n            value = this.state.max\r\n        }\r\n        this.setState({\r\n            offset: offset,\r\n            value: Math.round(value/this.state.step) / Math.round(1/this.state.step)\r\n        })\r\n      }\r\n\r\n    getDay = (time) => {\r\n        console.log(this.props.currentTime)\r\n        if (!this.props.currentTime)\r\n            return \"\"\r\n        const currentDay = Math.floor(this.props.currentTime/(24*60))\r\n        const day = Math.floor(time/(24*60))\r\n        console.log(\"day\",currentDay, day)\r\n        if (currentDay === day)\r\n            return <p>Today</p>\r\n        if (currentDay < day) \r\n            return <p>Tomorrow</p>\r\n        if (currentDay > day) \r\n            return  <p>Yesterday</p>\r\n    }\r\n\r\n    render() { \r\n        this.drawSlider()\r\n        console.log(\"time\",this.props.value)\r\n        return (  \r\n            <div onMouseDown={this.handleMouseDown} onMouseUp={this.handleMouseUp} onMouseMove={this.handleMouseMove} onMouseLeave={this.handleMouseUp} \r\n                 onTouchStart={this.handleTouchStart} onTouchEnd={this.handleMouseUp} onTouchMove={this.handleTouchMove} className=\"my-slider\">\r\n                <label>\r\n                    {(this.state.unit !== \"clock\") ?\r\n                        `${(this.props.map) ? this.props.map[this.props.value] : this.props.value}${this.state.unit}` :\r\n                        `${Math.floor((this.props.value/60)%24)}:${(this.props.value%60 < 10) ? `0${this.props.value%60}` :  this.props.value%60}`}{this.getDay(this.props.value)}</label>\r\n                <canvas width=\"400px\" height=\"40px\" ref=\"canvas\"></canvas>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Slider;","import React, { Component } from 'react';\r\nimport Slider from '../components/Slider';\r\n\r\nclass AddDrink extends Component {\r\n    state = { \r\n        type: \"\",\r\n        strength: 4.5,\r\n        amount: 33,\r\n        index: 0,\r\n        clock: 100,        \r\n        editable: true\r\n    }\r\n\r\n    types = [\r\n        {name:\"Öl\", strength:5, amount: 40},\r\n        {name:\"Vin\", strength:12, amount: 15},\r\n        {name:\"Drink\", strength:40, amount: 4},\r\n        {name:\"Cider\", strength:5, amount: 33},\r\n        {name:\"Sprit\", strength:40, amount: 4}\r\n    ]\r\n\r\n    imgMap = {\r\n        'Öl':\"icons/ol.svg\",\r\n        \"Vin\":\"icons/vin.svg\",\r\n        \"Drink\":\"icons/drink.svg\",\r\n        \"Cider\":\"icons/cider.svg\",\r\n        \"Sprit\":\"icons/sprit.svg\"\r\n    }\r\n\r\n    typeToIndex = (findType) => {\r\n        let index = 0\r\n        this.types.forEach((type, i) => {\r\n            if (type.name === findType) {\r\n                index = i\r\n            }\r\n        })\r\n        return index\r\n    }\r\n\r\n    componentDidMount() {\r\n        const editable = !(this.props.handleRemove === this.props.handleEdit)\r\n        if (this.props.index !== null) {\r\n            console.log(\"edit\")\r\n            this.setState({\r\n                index: this.typeToIndex(this.props.drink.type),\r\n                amount: this.props.drink.amount,\r\n                strength: this.props.drink.strength,\r\n                clock: this.props.drink.time,\r\n                editable: editable\r\n            })\r\n            console.log(this.state)\r\n            return\r\n        }\r\n        this.setState({\r\n            clock: this.props.currentTime\r\n        })\r\n        this.handleType(0)\r\n    }\r\n\r\n    handleSubmit = () => {\r\n        if (this.props.index !== null) {\r\n            this.props.handleEdit(this.props.index, this.state.amount, this.state.strength, this.types[this.state.index].name, this.state.clock)\r\n            return\r\n        }\r\n        this.props.handleAdd(this.state.amount, this.state.strength, this.types[this.state.index].name, this.state.clock);\r\n    } \r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    handleClose = () => {\r\n        if (this.props.index !== null) {\r\n            this.props.handleRemove(this.props.index)\r\n            return\r\n        }\r\n        this.props.handleAdd(null, null);\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        if (!this.state.editable)\r\n            return\r\n        if (e.target.name === \"amount\")\r\n            this.setState({amount: e.target.value});\r\n        if (e.target.name === \"strength\")\r\n            this.setState({strength: e.target.value});\r\n        if (e.target.name === \"clock\")\r\n            this.setState({clock: e.target.value});\r\n    }\r\n\r\n    handleType = (dir) => {\r\n        if (!this.state.editable)\r\n            return\r\n        const index = this.state.index + dir\r\n        this.setState({\r\n            index: index,\r\n            amount: this.types[index].amount,\r\n            strength: this.types[index].strength\r\n        })\r\n    }\r\n\r\n    render() { \r\n        this.currentTime = this.props.currentTime\r\n        console.log(this.state.clock)\r\n        const index = this.state.index\r\n        return ( \r\n            <div className='modal'>\r\n                <div className=\"modal-page\">\r\n                    <button className=\"close-button\" onClick={this.handleClose}>{(this.props.index !== null) ? (this.state.editable) ? \"Remove\" : \"Back\" : \"Avbryt\"}</button>\r\n                    <form onChange={this.handleChange} onSubmit={this.onSubmit} className='forms'>\r\n                        <div className=\"type-selecter\">\r\n                            {(index !== 0 && this.state.editable) ? <button onClick={() => this.handleType(-1)}>◀</button> : <p></p>}\r\n                            <div>\r\n                                <img src={this.imgMap[this.types[index].name]} height='100px' alt=\"hej\"/>\r\n                                <label>{this.types[index].name}</label>\r\n                            </div>\r\n                            {(index !== this.types.length-1 && this.state.editable) ? <button onClick={() => this.handleType(1)}>▶</button> : <p></p>}\r\n                        </div>\r\n                        {/*<label>{`${this.state.amount} cl`}</label><br/>\r\n                        <div class=\"slidecontainer\">\r\n                            <input min=\"1\" max=\"100\" value={this.state.amount} className=\"slider\" type=\"range\" name=\"amount\"/>\r\n                        </div><br/>\r\n                        <label>{`${this.state.strength}%`}</label><br/>\r\n                        <div class=\"slidecontainer\">\r\n                            <input min=\"1\" max=\"100\" value={this.state.strength} className=\"slider\" step='0.1' type=\"range\" name=\"strength\"/><br/>\r\n                        </div>*/}\r\n                        <Slider onChange={this.handleChange} value={this.state.amount} name=\"amount\" min=\"1\" max=\"100\" unit=\" cl\" editable={this.state.editable}></Slider>\r\n                        <Slider onChange={this.handleChange} value={this.state.strength} step='0.1' name=\"strength\" min=\"0\" max=\"100\" unit=\"%\" editable={this.state.editable}></Slider>\r\n                        <Slider onChange={this.handleChange} value={this.state.clock} name=\"clock\" min=\"0\" max=\"2880\" currentTime={this.currentTime} unit=\"clock\" editable={this.state.editable}></Slider>\r\n                    </form>\r\n                    {(this.state.editable) ? <button onClick={this.handleSubmit} className=\"confirm-button\">Klar</button> : <div/>}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default AddDrink;","import React, { Component } from 'react';\r\nimport Slider from '../components/Slider';\r\n\r\nclass FormSettings extends Component {\r\n    state = { \r\n        gender: 1,\r\n        weight: 40,\r\n        length: 55,\r\n     }\r\n\r\n    map = {\r\n        \"Man\": 1,\r\n        \"Woman\": 2,\r\n        1:\"Man\",\r\n        2:\"Woman\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        const gender = this.map[localStorage.getItem('userGender')]\r\n        const weight = localStorage.getItem('userWeight')\r\n        const length = localStorage.getItem('userLength')\r\n        this.setState({\r\n            gender:gender,\r\n            weight:weight,\r\n            length:length\r\n        })\r\n        \r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        localStorage.setItem('userWeight', this.state.weight)\r\n        localStorage.setItem('userLength', this.state.length)\r\n        localStorage.setItem('userGender', this.map[this.state.gender])\r\n    }\r\n    \r\n    handleChange = (e) => {\r\n        if (e.target.name === \"gender\")\r\n            this.setState({gender: e.target.value});\r\n        if (e.target.name === \"weight\")\r\n            this.setState({weight: e.target.value});\r\n        if (e.target.name === \"length\")\r\n            this.setState({length: e.target.value});\r\n        if (e.target.name === \"value\")\r\n            this.setState({value: e.target.value});\r\n    }\r\n\r\n    render() { \r\n        return ( \r\n            <div className=\"settings\">\r\n                <form onChange={this.handleChange} className=\"forms\">\r\n                    {/*<label>{`${this.map[this.state.gender]}`}</label><br/>\r\n                    <div class=\"slidecontainer\">\r\n                    <input min=\"1\" max=\"2\" value={this.state.gender} className=\"slider\"  type=\"range\" name=\"gender\"/>\r\n                    </div><br/>\r\n                    <label>{`${this.state.weight} kg`}</label><br/>\r\n                    <div class=\"slidecontainer\">\r\n                    <input min=\"40\" max=\"220\" value={this.state.weight} className=\"slider\"  type=\"range\" name=\"weight\"/>\r\n                    </div><br/>\r\n                    <label>{`${this.state.length} cl`}</label><br/>\r\n                    <div class=\"slidecontainer\">\r\n                    <input min='55' max=\"220\" value={this.state.length} className=\"slider\" type=\"range\" name=\"length\"/>\r\n                    </div><br/>*/}\r\n                    <Slider onChange={this.handleChange} value={this.state.gender} name=\"gender\" min=\"1\" max=\"2\" map={this.map}></Slider>\r\n                    <Slider onChange={this.handleChange} value={this.state.weight} name=\"weight\" min=\"40\" max=\"220\" unit=\" kg\"></Slider>\r\n                    <Slider onChange={this.handleChange} value={this.state.length} name=\"length\" min='55' max=\"220\" unit=\" cm\"></Slider>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default FormSettings;","import React, { Component } from 'react';\r\n\r\nclass HistoryButton extends Component {\r\n    state = {  }\r\n\r\n    getTextClass = (value) => {\r\n        if (value > 0.6) {\r\n            return \"#993344\"\r\n        } else {\r\n            return \"#4CAF50\"\r\n        }\r\n    }\r\n\r\n    render() { \r\n        const {occasion, index, max} = this.props\r\n        return (  \r\n            <button className={`history-button`} style={{color: `${this.getTextClass(max)}`}} onClick={() => this.props.pickOccaion(index)}>\r\n                <p>{`${occasion.year}-${occasion.month+1}-${occasion.date}  ${Math.round(max * 1000) / 1000}‰`}</p>\r\n                <p style={{color: `#888888`}}>></p>\r\n            </button>\r\n        );\r\n    }\r\n}\r\n \r\nexport default HistoryButton;","const nextPer = []\r\n\r\nfunction convertToGramsAlcohol(amount, strength) {\r\n    return (amount * (strength / 100)) * (789/100) \r\n}\r\n\r\nfunction convertToPermille(g) {\r\n    let weight = localStorage.getItem('userWeight')\r\n    let pro;\r\n    if (localStorage.getItem('userLength')==='man') {\r\n        pro = 0.7;\r\n    } else {\r\n        pro = 0.6;\r\n    }\r\n    return (g/(weight * pro)) \r\n}\r\n\r\nfunction addDrink(perMille, i) {\r\n    const t = 61\r\n    let denom = 1830\r\n    for (let j = 1; j < t; j++) {\r\n        const curentVal = (nextPer[j+i-1]) ? nextPer[j+i-1] : 0\r\n        nextPer[j+i-1] = perMille/denom * (t-j) + curentVal\r\n    }\r\n}\r\n\r\nfunction createGraph(drinks) {\r\n    console.log(\"Create Graph...\");\r\n    let max = 0;\r\n    nextPer.splice(0,nextPer.length)\r\n    const perMille = [] \r\n    let index = 0;\r\n    let currentDrink = drinks[index]\r\n    if (!currentDrink) {\r\n        return {end:0, start:0, perMille:[]};\r\n    }\r\n    let currentVal = 0\r\n    let start = 0\r\n    let i = start;\r\n    while ((currentDrink || currentVal > 0) && i < 48 * 60) {\r\n        while (currentDrink?.time === i) {\r\n            addDrink(convertToPermille(convertToGramsAlcohol(currentDrink.amount,currentDrink.strength)),i)\r\n            //currentVal += convertToPermille(convertToGramsAlcohol(currentDrink.amount,currentDrink.strength));\r\n            index++;\r\n            currentDrink = drinks[index] \r\n        } \r\n        currentVal += (nextPer[i]) ? nextPer[i] : 0\r\n        currentVal -= 0.20/60;\r\n        if (currentVal < 0) {\r\n            currentVal = 0;\r\n        }\r\n        if (currentVal > max) {\r\n            max = currentVal;\r\n        }    \r\n        perMille.push(currentVal)\r\n        i++\r\n    }\r\n    console.log(\"Graph Done\");\r\n    return {end:i + 400, start:drinks[0].time - 200 , perMille:perMille, max:max};\r\n}\r\n\r\n\r\nexport default createGraph;","import React, { Component } from 'react';\r\nimport HistoryButton from '../components/HistoryButton';\r\nimport createGraph from './../GraphCreater';\r\nimport Graph from './Graph';\r\nimport AddDrink from './AddDrink';\r\n\r\nclass History extends Component {\r\n    state = {  \r\n        occasion: null,\r\n        pos: 0,\r\n        end: 0,\r\n        start: 0,\r\n        perMille: null\r\n    }\r\n\r\n    clear = () => {\r\n        localStorage.clear()\r\n    }\r\n\r\n    pickOccaion = (index) => {\r\n        const perMille = createGraph(this.props.occasions[index].drinks)\r\n        this.setState({\r\n            occasion: this.props.occasions[index],\r\n            pos: perMille.start,\r\n            end: perMille.end,\r\n            start: perMille.start,\r\n            perMille: perMille.perMille\r\n        })\r\n    }\r\n\r\n\r\n\r\n    handleAdd = (index, drink) => {\r\n        this.setState({\r\n          adding: true,\r\n          index: index,\r\n          drink: drink\r\n        })\r\n    }\r\n\r\n    handleDrink = () => {\r\n        this.setState({\r\n            adding: false\r\n        })\r\n    }\r\n\r\n    setPos = (pos) => {\r\n        this.setState({\r\n          pos:pos\r\n        })\r\n      }\r\n\r\n    render() {\r\n        console.log() \r\n        return ( \r\n            <div className=\"page\">\r\n                {(this.state.occasion) ?\r\n                <Graph currentTime={-1} pos={this.state.pos} end={this.state.end} start={this.state.start} \r\n                setPos={this.setPos} perMille={this.state.perMille}\r\n                handleAdd={this.handleAdd} drinks={this.state.occasion.drinks}/>\r\n                :\r\n                <React.Fragment>\r\n                <h1>History</h1>\r\n                <div className=\"history\">\r\n                {this.props.occasions.map((occasion, i) => (\r\n                    <HistoryButton key={i} index={i} occasion={occasion} pickOccaion={this.pickOccaion} max={createGraph(occasion.drinks).max}/>\r\n                ))}\r\n                <div className=\"history-button\">\r\n                    <p>Rensa historik</p>\r\n                    <button className=\"close-button\" onClick={this.clear}>Clear</button>\r\n                </div>\r\n                </div>\r\n                </React.Fragment>}\r\n                {(this.state.adding) ? \r\n                <AddDrink handleAdd={this.handleDrink} handleEdit={this.handleDrink} handleRemove={this.handleDrink} drink={this.state.drink} index={this.state.index}></AddDrink>\r\n                : null}\r\n            </div>\r\n         );\r\n    }\r\n}\r\n \r\nexport default History;","import React, { Component } from 'react';\r\n\r\n\r\nclass Promille extends Component {\r\n    state = {  }\r\n    render() { \r\n        return ( \r\n            <svg width=\"30px\" height=\"30px\" viewBox=\"0 0 40 40\" style={{fillRule:'evenodd',clipRule:'evenodd',strokeLinejoin:'bevel',strokeMiterlimit:'1.5'}}>\r\n                <g transform=\"matrix(1,0,0,1,-98,0)\">\r\n                    <g id=\"Artboard2\" transform=\"matrix(0.327869,0,0,0.412371,124.557,-34.6392)\">\r\n                        <g transform=\"matrix(1.59762,0,0,2.425,-209.318,92.7568)\">\r\n                            <ellipse cx=\"118.5\" cy=\"30.5\" rx=\"10.5\" ry=\"1.5\"/>\r\n                            <path d=\"M118.771,29L119.04,29.002L119.307,29.004L119.573,29.008L119.837,29.012L120.098,29.017L120.358,29.023L120.615,29.03L120.87,29.038L121.123,29.047L121.373,29.057L121.621,29.067L121.866,29.079L122.109,29.091L122.348,29.104L122.585,29.118L122.819,29.133L123.05,29.148L123.278,29.164L123.503,29.181L123.725,29.199L123.943,29.217L124.158,29.236L124.369,29.256L124.577,29.277L124.781,29.298L124.981,29.32L125.177,29.343L125.37,29.366L125.558,29.39L125.743,29.414L125.923,29.44L126.099,29.465L126.271,29.492L126.438,29.519L126.601,29.546L126.759,29.574L126.913,29.603L127.062,29.632L127.206,29.662L127.345,29.692L127.479,29.722L127.608,29.754L127.732,29.785L127.851,29.817L127.964,29.85L128.072,29.883L128.174,29.916L128.271,29.95L128.362,29.984L128.448,30.019L128.528,30.054L128.601,30.09L128.669,30.125L128.731,30.161L128.787,30.198L128.836,30.235L128.858,30.253L128.879,30.272L128.898,30.29L128.916,30.309L128.931,30.328L128.946,30.347L128.958,30.366L128.969,30.385L128.979,30.404L128.986,30.423L128.992,30.442L128.997,30.461L128.999,30.481L129,30.5L128.999,30.519L128.997,30.539L128.992,30.558L128.986,30.577L128.979,30.596L128.969,30.615L128.958,30.634L128.946,30.653L128.931,30.672L128.916,30.691L128.898,30.71L128.879,30.728L128.858,30.747L128.836,30.765L128.787,30.802L128.731,30.839L128.669,30.875L128.601,30.91L128.528,30.946L128.448,30.981L128.362,31.016L128.271,31.05L128.174,31.084L128.072,31.117L127.964,31.15L127.851,31.183L127.732,31.215L127.608,31.246L127.479,31.278L127.345,31.308L127.206,31.338L127.062,31.368L126.913,31.397L126.759,31.426L126.601,31.454L126.438,31.481L126.271,31.508L126.099,31.535L125.923,31.56L125.743,31.586L125.558,31.61L125.37,31.634L125.177,31.657L124.981,31.68L124.781,31.702L124.577,31.723L124.369,31.744L124.158,31.764L123.943,31.783L123.725,31.801L123.503,31.819L123.278,31.836L123.05,31.852L122.819,31.867L122.585,31.882L122.348,31.896L122.109,31.909L121.866,31.921L121.621,31.933L121.373,31.943L121.123,31.953L120.87,31.962L120.615,31.97L120.358,31.977L120.098,31.983L119.837,31.988L119.573,31.992L119.307,31.996L119.04,31.998L118.771,32L118.5,32L118.229,32L117.96,31.998L117.693,31.996L117.427,31.992L117.163,31.988L116.902,31.983L116.642,31.977L116.385,31.97L116.13,31.962L115.877,31.953L115.627,31.943L115.379,31.933L115.134,31.921L114.891,31.909L114.652,31.896L114.415,31.882L114.181,31.867L113.95,31.852L113.722,31.836L113.497,31.819L113.275,31.801L113.057,31.783L112.842,31.764L112.631,31.744L112.423,31.723L112.219,31.702L112.019,31.68L111.823,31.657L111.63,31.634L111.442,31.61L111.257,31.586L111.077,31.56L110.901,31.535L110.729,31.508L110.562,31.481L110.399,31.454L110.241,31.426L110.087,31.397L109.938,31.368L109.794,31.338L109.655,31.308L109.521,31.278L109.392,31.246L109.268,31.215L109.149,31.183L109.036,31.15L108.928,31.117L108.826,31.084L108.729,31.05L108.638,31.016L108.552,30.981L108.472,30.946L108.399,30.91L108.331,30.875L108.269,30.839L108.213,30.802L108.164,30.765L108.142,30.747L108.121,30.728L108.102,30.71L108.084,30.691L108.069,30.672L108.054,30.653L108.042,30.634L108.031,30.615L108.021,30.596L108.014,30.577L108.008,30.558L108.003,30.539L108.001,30.519L108,30.5L108.001,30.481L108.003,30.461L108.008,30.442L108.014,30.423L108.021,30.404L108.031,30.385L108.042,30.366L108.054,30.347L108.069,30.328L108.084,30.309L108.102,30.29L108.121,30.272L108.142,30.253L108.164,30.235L108.213,30.198L108.269,30.161L108.331,30.125L108.399,30.09L108.472,30.054L108.552,30.019L108.638,29.984L108.729,29.95L108.826,29.916L108.928,29.883L109.036,29.85L109.149,29.817L109.268,29.785L109.392,29.754L109.521,29.722L109.655,29.692L109.794,29.662L109.938,29.632L110.087,29.603L110.241,29.574L110.399,29.546L110.562,29.519L110.729,29.492L110.901,29.465L111.077,29.44L111.257,29.414L111.442,29.39L111.63,29.366L111.823,29.343L112.019,29.32L112.219,29.298L112.423,29.277L112.631,29.256L112.842,29.236L113.057,29.217L113.275,29.199L113.497,29.181L113.722,29.164L113.95,29.148L114.181,29.133L114.415,29.118L114.652,29.104L114.891,29.091L115.134,29.079L115.379,29.067L115.627,29.057L115.877,29.047L116.13,29.038L116.385,29.03L116.642,29.023L116.902,29.017L117.163,29.012L117.427,29.008L117.693,29.004L117.96,29.002L118.229,29L118.5,29L118.771,29Z\"/>\r\n                        </g>\r\n                        <g transform=\"matrix(3.05,0,0,2.425,-379.9,84)\">\r\n                            <path d=\"M111.6,11L124.4,11\" style={{fill:'none',stroke:'#666',strokeWidth:'1px'}}/>\r\n                        </g>\r\n                        <g transform=\"matrix(3.05,0,0,2.425,-381.425,70.0563)\">\r\n                            <path d=\"M126.417,19.457L126.428,19.51L126.438,19.563L126.447,19.617L126.456,19.671L126.464,19.725L126.471,19.779L126.477,19.833L126.483,19.887L126.5,20L126.492,20L126.495,20.062L126.498,20.125L126.499,20.187L126.5,20.25L126.499,20.321L126.497,20.392L126.494,20.462L126.49,20.533L126.484,20.603L126.477,20.673L126.468,20.743L126.459,20.812L126.448,20.881L126.436,20.95L126.422,21.019L126.408,21.087L126.392,21.155L126.375,21.223L126.357,21.291L126.337,21.358L126.317,21.425L126.295,21.491L126.272,21.558L126.248,21.624L126.223,21.69L126.196,21.755L126.169,21.82L126.14,21.885L126.11,21.949L126.079,22.013L126.047,22.077L126.014,22.14L125.98,22.203L125.945,22.266L125.908,22.328L125.871,22.39L125.832,22.451L125.793,22.513L125.752,22.573L125.711,22.634L125.668,22.693L125.624,22.753L125.58,22.812L125.534,22.871L125.487,22.929L125.439,22.987L125.391,23.044L125.341,23.101L125.291,23.158L125.239,23.214L125.186,23.269L125.133,23.324L125.079,23.379L125.023,23.433L124.967,23.487L124.91,23.54L124.852,23.593L124.793,23.645L124.733,23.696L124.672,23.748L124.611,23.798L124.548,23.849L124.485,23.898L124.421,23.947L124.356,23.996L124.29,24.044L124.223,24.091L124.156,24.138L124.087,24.185L124.018,24.231L123.949,24.276L123.878,24.32L123.806,24.365L123.734,24.408L123.661,24.451L123.588,24.493L123.513,24.535L123.438,24.576L123.362,24.617L123.285,24.657L123.208,24.696L123.13,24.735L123.051,24.773L122.972,24.81L122.891,24.847L122.811,24.883L122.729,24.918L122.647,24.953L122.564,24.987L122.481,25.021L122.397,25.054L122.312,25.086L122.227,25.117L122.141,25.148L122.054,25.178L121.967,25.207L121.879,25.236L121.791,25.264L121.702,25.291L121.613,25.317L121.523,25.343L121.432,25.368L121.341,25.393L121.249,25.416L121.157,25.439L121.065,25.461L120.972,25.482L120.878,25.503L120.784,25.522L120.689,25.541L120.594,25.559L120.498,25.577L120.402,25.593L120.306,25.609L120.209,25.624L120.111,25.638L120.014,25.652L119.915,25.664L119.817,25.676L119.718,25.687L119.618,25.697L119.518,25.706L119.418,25.714L119.317,25.722L119.216,25.728L119.115,25.734L119.013,25.739L118.911,25.743L118.809,25.746L118.706,25.748L118.603,25.75L118.5,25.75L118.397,25.75L118.294,25.748L118.191,25.746L118.089,25.743L117.987,25.739L117.885,25.734L117.784,25.728L117.683,25.722L117.582,25.714L117.482,25.706L117.382,25.697L117.282,25.687L117.183,25.676L117.085,25.664L116.986,25.652L116.889,25.638L116.791,25.624L116.694,25.609L116.598,25.593L116.502,25.577L116.406,25.559L116.311,25.541L116.216,25.522L116.122,25.503L116.028,25.482L115.935,25.461L115.843,25.439L115.751,25.416L115.659,25.393L115.568,25.368L115.477,25.343L115.387,25.317L115.298,25.291L115.209,25.264L115.121,25.236L115.033,25.207L114.946,25.178L114.859,25.148L114.773,25.117L114.688,25.086L114.603,25.054L114.519,25.021L114.436,24.987L114.353,24.953L114.271,24.918L114.189,24.883L114.109,24.847L114.028,24.81L113.949,24.773L113.87,24.735L113.792,24.696L113.715,24.657L113.638,24.617L113.562,24.576L113.487,24.535L113.412,24.493L113.339,24.451L113.266,24.408L113.194,24.365L113.122,24.32L113.051,24.276L112.982,24.231L112.913,24.185L112.844,24.138L112.777,24.091L112.71,24.044L112.644,23.996L112.579,23.947L112.515,23.898L112.452,23.849L112.389,23.798L112.328,23.748L112.267,23.696L112.207,23.645L112.148,23.593L112.09,23.54L112.033,23.487L111.977,23.433L111.921,23.379L111.867,23.324L111.814,23.269L111.761,23.214L111.709,23.158L111.659,23.101L111.609,23.044L111.561,22.987L111.513,22.929L111.466,22.871L111.42,22.812L111.376,22.753L111.332,22.693L111.289,22.634L111.248,22.573L111.207,22.513L111.168,22.451L111.129,22.39L111.092,22.328L111.055,22.266L111.02,22.203L110.986,22.14L110.953,22.077L110.921,22.013L110.89,21.949L110.86,21.885L110.831,21.82L110.804,21.755L110.777,21.69L110.752,21.624L110.728,21.558L110.705,21.491L110.683,21.425L110.663,21.358L110.643,21.291L110.625,21.223L110.608,21.155L110.592,21.087L110.578,21.019L110.564,20.95L110.552,20.881L110.541,20.812L110.532,20.743L110.523,20.673L110.516,20.603L110.51,20.533L110.506,20.462L110.503,20.392L110.501,20.321L110.5,20.25L110.501,20.187L110.502,20.125L110.505,20.062L110.508,20L110.5,20L110.517,19.887L110.523,19.833L110.529,19.779L110.536,19.725L110.544,19.671L110.553,19.617L110.562,19.563L110.572,19.51L110.583,19.457L112.1,9.5L124.9,9.5L126.417,19.457ZM113.818,11.5L112.553,19.807L112.535,19.895L112.53,19.921L112.525,19.946L112.521,19.972L112.517,19.998L112.514,20.024L112.511,20.05L112.504,20.114L112.505,20.114L112.502,20.16L112.501,20.19L112.5,20.22L112.5,20.249L112.5,20.284L112.501,20.318L112.503,20.352L112.505,20.386L112.508,20.419L112.511,20.453L112.515,20.486L112.52,20.519L112.525,20.553L112.531,20.586L112.537,20.619L112.545,20.653L112.552,20.686L112.561,20.72L112.57,20.753L112.579,20.787L112.59,20.82L112.601,20.854L112.613,20.888L112.625,20.922L112.638,20.956L112.652,20.991L112.667,21.025L112.682,21.06L112.698,21.095L112.715,21.129L112.732,21.164L112.751,21.2L112.77,21.235L112.79,21.27L112.811,21.306L112.832,21.341L112.855,21.377L112.878,21.413L112.902,21.449L112.927,21.485L112.953,21.521L112.979,21.558L113.007,21.594L113.035,21.63L113.064,21.667L113.094,21.703L113.125,21.74L113.157,21.776L113.19,21.813L113.224,21.849L113.258,21.886L113.293,21.922L113.33,21.959L113.367,21.995L113.405,22.031L113.444,22.067L113.483,22.103L113.524,22.139L113.565,22.175L113.608,22.211L113.651,22.246L113.695,22.282L113.74,22.317L113.786,22.352L113.832,22.387L113.88,22.422L113.928,22.456L113.977,22.49L114.027,22.524L114.078,22.558L114.13,22.591L114.182,22.624L114.235,22.657L114.289,22.69L114.344,22.722L114.4,22.754L114.456,22.786L114.513,22.817L114.571,22.848L114.629,22.878L114.689,22.908L114.749,22.938L114.81,22.967L114.871,22.996L114.933,23.025L114.996,23.053L115.06,23.081L115.124,23.108L115.189,23.135L115.255,23.161L115.321,23.187L115.388,23.212L115.456,23.237L115.524,23.262L115.593,23.285L115.662,23.309L115.732,23.332L115.803,23.354L115.874,23.376L115.946,23.397L116.019,23.418L116.092,23.438L116.165,23.458L116.239,23.477L116.314,23.495L116.389,23.513L116.465,23.53L116.541,23.547L116.617,23.563L116.695,23.578L116.772,23.593L116.85,23.607L116.929,23.621L117.008,23.634L117.088,23.646L117.167,23.658L117.248,23.669L117.329,23.679L117.41,23.689L117.492,23.698L117.574,23.706L117.656,23.713L117.739,23.72L117.822,23.726L117.906,23.732L117.989,23.737L118.074,23.741L118.158,23.744L118.243,23.747L118.329,23.748L118.414,23.75L118.5,23.75L118.586,23.75L118.671,23.748L118.757,23.747L118.842,23.744L118.926,23.741L119.011,23.737L119.094,23.732L119.178,23.726L119.261,23.72L119.344,23.713L119.426,23.706L119.508,23.698L119.59,23.689L119.671,23.679L119.752,23.669L119.833,23.658L119.912,23.646L119.992,23.634L120.071,23.621L120.15,23.607L120.228,23.593L120.305,23.578L120.383,23.563L120.459,23.547L120.535,23.53L120.611,23.513L120.686,23.495L120.761,23.477L120.835,23.458L120.909,23.438L120.981,23.418L121.054,23.397L121.126,23.376L121.197,23.354L121.268,23.332L121.338,23.309L121.407,23.285L121.476,23.262L121.544,23.237L121.612,23.212L121.679,23.187L121.745,23.161L121.811,23.135L121.876,23.108L121.94,23.081L122.004,23.053L122.067,23.025L122.129,22.996L122.19,22.967L122.251,22.938L122.311,22.908L122.371,22.878L122.429,22.848L122.487,22.817L122.544,22.786L122.6,22.754L122.656,22.722L122.711,22.69L122.765,22.657L122.818,22.624L122.87,22.591L122.922,22.558L122.973,22.524L123.023,22.49L123.072,22.456L123.12,22.422L123.168,22.387L123.214,22.352L123.26,22.317L123.305,22.282L123.349,22.246L123.392,22.211L123.435,22.175L123.476,22.139L123.517,22.103L123.556,22.067L123.595,22.031L123.633,21.995L123.67,21.959L123.707,21.922L123.742,21.886L123.776,21.849L123.81,21.813L123.843,21.776L123.875,21.74L123.906,21.703L123.936,21.667L123.965,21.63L123.993,21.594L124.021,21.558L124.047,21.521L124.073,21.485L124.098,21.449L124.122,21.413L124.145,21.377L124.168,21.341L124.189,21.306L124.21,21.27L124.23,21.235L124.249,21.2L124.268,21.164L124.285,21.129L124.302,21.095L124.318,21.06L124.333,21.025L124.348,20.991L124.362,20.956L124.375,20.922L124.387,20.888L124.399,20.854L124.41,20.82L124.421,20.787L124.43,20.753L124.439,20.72L124.448,20.686L124.455,20.653L124.463,20.619L124.469,20.586L124.475,20.553L124.48,20.519L124.485,20.486L124.489,20.453L124.492,20.419L124.495,20.385L124.497,20.352L124.499,20.318L124.5,20.284L124.5,20.249L124.5,20.22L124.499,20.19L124.498,20.16L124.495,20.114L124.496,20.114L124.489,20.05L124.486,20.024L124.483,19.998L124.479,19.972L124.475,19.946L124.47,19.921L124.465,19.895L124.447,19.807L123.182,11.5L113.818,11.5Z\"/>\r\n                        </g>\r\n                        <g transform=\"matrix(3.05,0,0,2.425,-379.9,84)\">\r\n                            <path d=\"M118,19L118,34.111\" style={{fill:'none',strokeWidth:'2px'}}/>\r\n                        </g>\r\n                    </g>\r\n                </g>\r\n            </svg>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Promille;","import React, { Component } from 'react';\r\n\r\nclass Historik extends Component {\r\n    state = {  }\r\n    render() { \r\n        return ( \r\n            <svg width=\"30px\" height=\"30px\" viewBox=\"0 0 40 40\" style={{fillRule:'evenodd',clipRule:'evenodd',strokeLinecap:'round',strokeMiterlimit:'1.5'}}>\r\n                <g transform=\"matrix(1,0,0,1,-53,-7.10543e-15)\">\r\n                    <g id=\"Artboard1\" transform=\"matrix(0.327869,0,0,0.412371,79.5574,-34.6392)\">\r\n                        <g transform=\"matrix(3.05,0,0,2.78227,-291.45,79.0973)\">\r\n                            <path d=\"M89,32.8C87.175,32.315 84.27,32 81,32C77.73,32 74.825,32.315 73,32.8L73,7.736C74.825,7.25 77.73,6.935 81,6.935C84.27,6.935 87.175,7.25 89,7.736L89,32.8Z\" style={{fill:'none',strokeWidth:'2px'}}/>\r\n                        </g>\r\n                        <g transform=\"matrix(3.05,0,0,2.78227,-242.65,79.0973)\">\r\n                            <path d=\"M89,32.8C87.175,32.315 84.27,32 81,32C77.73,32 74.825,32.315 73,32.8L73,7.736C74.825,7.25 77.73,6.935 81,6.935C84.27,6.935 87.175,7.25 89,7.736L89,32.8Z\" style={{fill:'none',strokeWidth:'2px'}}/>\r\n                        </g>\r\n                        <g transform=\"matrix(3.05,0,0,2.52002,-242.65,91.2753)\">\r\n                            <path d=\"M73,4L73,32.8\" style={{fill:'none',strokeWidth:'2px',strokeLinecap:'butt',strokeLinejoin:'bevel'}}/>\r\n                        </g>\r\n                    </g>\r\n                </g>\r\n            </svg>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Historik;","import React, { Component } from 'react';\r\n\r\nclass Installningar extends Component {\r\n    state = {  }\r\n    render() { \r\n        return (  \r\n            <svg width=\"30px\" height=\"30px\" viewBox=\"0 0 40 40\" style={{fillRule:'evenodd',clipRule:'evenodd',strokeLinejoin:'round',strokeMiterlimit:'1.5'}}>\r\n                <g id=\"Artboard3\" transform=\"matrix(0.327869,0,0,0.412371,26.5574,-34.6392)\">\r\n                    <g transform=\"matrix(3.34652,0,0,2.66076,-86.9305,79.2848)\">\r\n                        <path d=\"M21.568,4.077C20.525,3.974 19.475,3.974 18.432,4.077L18.125,7.641C17.208,7.781 16.308,8.021 15.444,8.36L13.397,5.426C12.442,5.859 11.532,6.384 10.68,6.994L12.197,10.234C11.472,10.814 10.814,11.472 10.234,12.197L6.994,10.68C6.384,11.532 5.859,12.442 5.426,13.397L8.36,15.444C8.021,16.308 7.781,17.208 7.641,18.125L4.077,18.432C3.974,19.475 3.974,20.525 4.077,21.568L7.641,21.875C7.781,22.792 8.021,23.692 8.36,24.556L5.426,26.603C5.859,27.558 6.384,28.468 6.994,29.32L10.234,27.803C10.814,28.528 11.472,29.186 12.197,29.766L10.68,33.006C11.532,33.616 12.442,34.141 13.397,34.574L15.444,31.64C16.308,31.979 17.208,32.219 18.125,32.359L18.432,35.923C19.475,36.026 20.525,36.026 21.568,35.923L21.875,32.359C22.792,32.219 23.692,31.979 24.556,31.64L26.603,34.574C27.558,34.141 28.468,33.616 29.32,33.006L27.803,29.766C28.528,29.186 29.186,28.528 29.766,27.803L33.006,29.32C33.616,28.468 34.141,27.558 34.574,26.603L31.64,24.556C31.979,23.692 32.219,22.792 32.359,21.875L35.923,21.568C36.026,20.525 36.026,19.475 35.923,18.432L32.359,18.125C32.219,17.208 31.979,16.308 31.64,15.444L34.574,13.397C34.141,12.442 33.616,11.532 33.006,10.68L29.766,12.197C29.186,11.472 28.528,10.814 27.803,10.234L29.32,6.994C28.468,6.384 27.558,5.859 26.603,5.426L24.556,8.36C23.692,8.021 22.792,7.781 21.875,7.641L21.568,4.077ZM20,10.462C25.264,10.462 29.538,14.736 29.538,20C29.538,25.264 25.264,29.538 20,29.538C14.736,29.538 10.462,25.264 10.462,20C10.462,14.736 14.736,10.462 20,10.462Z\"/>\r\n                    </g>\r\n                </g>\r\n            </svg>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Installningar;","import React, { Component } from 'react';\r\nimport Promille from '../icons/Promille';\r\nimport Historik from '../icons/Historik';\r\nimport Installningar from '../icons/Installningar';\r\n\r\nclass Navigation extends Component {\r\n    state = {  }\r\n\r\n    handlePage = (page) => {\r\n        //this.props.handlePage(page)\r\n        this.props.history.push(`/${page}`)\r\n    }\r\n\r\n    render() { \r\n        const page = this.props.location.pathname\r\n        return (  \r\n            <div className=\"nav\">\r\n                <button onClick={() => this.handlePage(\"\")} className={(page === \"/\") ? \"open\" : \"close\"}>\r\n                    <Promille/>  \r\n                Promille</button>\r\n                <button onClick={() => this.handlePage(\"History\")} className={(page === \"/History\") ? \"open\" : \"close\"}>\r\n                    <Historik/>\r\n                Historik</button>\r\n                <button onClick={() => this.handlePage(\"Settings\")} className={(page === \"/Settings\") ? \"open\" : \"close\"}>\r\n                    <Installningar/>\r\n                Settings</button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Navigation;","import React, { Component } from 'react';\r\nimport { HashRouter, Route, Switch } from 'react-router-dom';\r\nimport './App.css';\r\nimport Graph from './paths/Graph';\r\nimport AddDrink from './paths/AddDrink';\r\nimport FormSettings from './paths/FormSettings';\r\nimport History from './paths/History';\r\nimport createGraph from './GraphCreater';\r\n//import Promille from './icons/Promille';\r\n//import Historik from './icons/Historik';\r\n//import Installningar from './icons/Installningar';\r\nimport Navigation from './components/Navigation';\r\n\r\nclass App extends Component {\r\n  state = { \r\n    occasions: [],\r\n    adding: false,\r\n    page: \"Graph\",\r\n    currentTime: 0,\r\n    currentDrinks: [],\r\n    perMille: [],\r\n    pos: 0,\r\n    index: null,\r\n    drink: null\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.initLocalStorage()\r\n    const occasions = JSON.parse(localStorage.getItem('occasions'))\r\n    const time = this.getCurrentTime(occasions)\r\n    \r\n    this.setState({\r\n      occasions: occasions,\r\n      currentTime: time,\r\n      currentDrinks: this.getCurrentDrinks(occasions),\r\n      perMille: createGraph(this.getCurrentDrinks(occasions)).perMille,\r\n      end: createGraph(this.getCurrentDrinks(occasions)).end,\r\n      start: createGraph(this.getCurrentDrinks(occasions)).start,\r\n      pos: time\r\n    })\r\n    setInterval(() => {\r\n      this.setState({\r\n        currentTime: this.getCurrentTime(this.state.occasions)\r\n      })\r\n    }, 5 * 1000);\r\n  }\r\n\r\n  initLocalStorage = () => {\r\n    //localStorage.clear()\r\n    if (!localStorage.getItem('userWeight')) {\r\n      localStorage.setItem('userWeight', '80')\r\n    }\r\n    if (!localStorage.getItem('userLength')) {\r\n      localStorage.setItem('userLength', '190')\r\n    }\r\n    if (!localStorage.getItem('userGender')) {\r\n      localStorage.setItem('userGender', 'Man')\r\n    }\r\n    if (!localStorage.getItem('occasions')) {\r\n      localStorage.setItem('occasions', JSON.stringify([]))\r\n    }\r\n  }\r\n\r\n  saveChange = (occasions) => {\r\n    this.setState({\r\n      adding: false,\r\n      occasions:occasions,\r\n      currentTime: this.getCurrentTime(occasions),\r\n      currentDrinks: this.getCurrentDrinks(occasions),\r\n      perMille: createGraph(this.getCurrentDrinks(occasions)).perMille,\r\n      end: createGraph(this.getCurrentDrinks(occasions)).end,\r\n      start: createGraph(this.getCurrentDrinks(occasions)).start,\r\n      pos: this.getCurrentTime(occasions)\r\n    })\r\n    localStorage.setItem('occasions', JSON.stringify(occasions))\r\n  }\r\n\r\n  removeDrink = (i) => {\r\n    const occasions = this.state.occasions\r\n    let index = this.getCurrentOccasion(occasions)\r\n    occasions[index].drinks.splice(i,1)\r\n    if (occasions[index].drinks.length === 0) {\r\n      occasions.splice(index,1)\r\n    }\r\n    this.saveChange(occasions)\r\n  }\r\n\r\n  editDrink = (i, amount, strength, type, time) => {\r\n    const occasions = this.state.occasions\r\n    let index = this.getCurrentOccasion(occasions)\r\n    let drink = occasions[index].drinks[i]\r\n    drink.amount = parseInt(amount)\r\n    drink.strength = parseInt(strength)\r\n    drink.type = type\r\n    drink.time = time\r\n    occasions[index].drinks[i] = drink\r\n    occasions[index].drinks.sort((a,b) => a.time - b.time)\r\n    this.saveChange(occasions)\r\n  }\r\n\r\n  addDrink = (amount, strength, type, time) => {\r\n    const occasions = this.state.occasions\r\n    let index = this.getCurrentOccasion(occasions)\r\n    if (!amount) {\r\n      this.setState({adding: false})\r\n      if (occasions[index].drinks.length === 0) {\r\n        occasions.splice(index,1)\r\n        this.saveChange(occasions)\r\n      }\r\n      return\r\n    }\r\n    const nweDrink = {time:time, amount:amount, strength:strength, type:type}\r\n    occasions[index].drinks.push(nweDrink)\r\n    occasions[index].drinks.sort((a,b) => a.time - b.time)\r\n    if (!time) {\r\n      return\r\n    }    \r\n    this.saveChange(occasions)\r\n  }\r\n\r\n  handleAdd = (index, drink) => {\r\n    const date = new Date()\r\n    const occasions = this.state.occasions\r\n    let i = this.getCurrentOccasion(occasions)\r\n    if (i === null) {\r\n      const newOccasions = {year: date.getFullYear(),month: date.getMonth(), date:date.getDate(),drinks:[]}\r\n      occasions.push(newOccasions)\r\n      this.saveChange(occasions)\r\n    }\r\n    this.setState({\r\n      adding: true,\r\n      index: index,\r\n      drink: drink\r\n    })\r\n  }\r\n\r\n  setPos = (pos) => {\r\n    this.setState({\r\n      pos:pos\r\n    })\r\n  }\r\n\r\n  handlePage = (page) => {\r\n    if (page === \"Graph\" && page === this.state.page) {\r\n      this.setState({\r\n        pos: this.getCurrentTime(this.state.occasions)\r\n      })\r\n    }\r\n    this.setState({\r\n      page: page\r\n    })\r\n  }\r\n\r\n  getAddDate = (occasions) => {    \r\n    if (occasions.length === 0) {\r\n      return null\r\n    }\r\n    const i = occasions.length-1;\r\n    const date = new Date()\r\n    const d1 = new Date(occasions[i].year,occasions[i].month,occasions[i].date)\r\n    const d2 = new Date( date.getFullYear(),date.getMonth(),date.getDate())\r\n    return (d2-d1)/(60*1000)\r\n  }\r\n\r\n  getCurrentOccasion = (occasions) => {\r\n    const i = occasions.length-1;\r\n    if (occasions.length < 1) {\r\n      return null\r\n    }\r\n    const date = new Date()\r\n    const d1 = new Date(occasions[i].year,occasions[i].month,occasions[i].date)\r\n    const d2 = new Date(date.getFullYear(),date.getMonth(),date.getDate())\r\n    if  (((d1-d2)/ (1000 * 3600 * 24) === -1 && date.getHours() < 10) || ((d1-d2) === 0)) {\r\n      return i\r\n    }\r\n    return null\r\n  }\r\n\r\n  getCurrentDrinks = (occasions) => {\r\n    const drinks = occasions[this.getCurrentOccasion(occasions)]\r\n    if (drinks)\r\n      return drinks.drinks\r\n    return []\r\n  }\r\n\r\n  getCurrentTime = (occasions) => {\r\n    if (this.getAddDate(occasions) === null) {\r\n      return null\r\n    }\r\n\r\n    const date = new Date()\r\n    const h = date.getHours() \r\n    const min = date.getMinutes()\r\n    return h*60+min + this.getAddDate(occasions)\r\n  }\r\n\r\n  render() {        \r\n    return ( \r\n      <div className=\"App\">\r\n        <HashRouter>\r\n        <div className=\"page\">\r\n          <Switch>\r\n            <Route exact path=\"/Settings\" component={FormSettings} />\r\n            <Route exact path=\"/History\" render={(props) => <History {...props} occasions={this.state.occasions} ></History>}></Route>\r\n            <Route path=\"/\" render={(props) => (\r\n              <Graph currentTime={this.state.currentTime} pos={this.state.pos} end={this.state.end} start={this.state.start} \r\n              setPos={this.setPos} perMille={this.state.perMille} handleAdd={this.handleAdd} drinks={this.state.currentDrinks}/>)}/>\r\n          </Switch>\r\n          {(this.state.adding) ? <AddDrink currentTime={this.state.currentTime} handleAdd={this.addDrink} handleEdit={this.editDrink} handleRemove={this.removeDrink} drink={this.state.drink} index={this.state.index}></AddDrink>: null}\r\n          </div>\r\n          <Route path=\"/\" render={(props) => <Navigation {...props} handlePage={this.handlePage} page={this.state.page}/>}/>\r\n          \r\n        </HashRouter>\r\n      </div>\r\n     );\r\n  }\r\n}\r\n \r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}